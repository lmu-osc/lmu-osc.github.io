---
title: "Dr. Felix Schönbrodt"
format: 
  html:
    css: 
      - styles.css
      - members.css

# Member parameters
name: "Dr. Felix Schönbrodt"
position: "Managing Director of OSC"
photo: "felix.jpeg"
email: "Felix.Schoenbrodt@psy.lmu.de"
personal_website: "https://nicebread.de"
faculty_website: "https://www.osc.uni-muenchen.de/index.html"

# Social media links - variable number
social_media:
  Bluesky: "https://bsky.app/profile/lmu-osc.bsky.social"
  LinkedIn: "https://www.linkedin.com/in/felixschoenbrodt"
  GitHub: "https://github.com/nicebread"
  ORCID: "https://orcid.org/0000-0002-8282-3910"

# Mission statement paragraphs - variable number
mission_statement:
  - "I am principal investigator for Psychological Methods and Assessment at the Department of Psychology. The reproducibility of research findings is a core criterion of science, which however, has been challenged by the failure of recent large-scale replication projects."
  - "Together with the board of the German Psychological Society (DGPs) I developed the society's recommendations for data sharing in psychology."

# Research interests - variable number
research_interests:
  - "Open Science"
  - "Psychology"
  - "Psychological Methods"
  - "Data Sharing"

# Publications - variable number
publications:
  - year: 2024
    title: "Machine Learning Applications in Organizational Behavior"
    authors: "Smith, J., Johnson, A., & Williams, R."
    journal: "Journal of Applied Research, 42(3), 256-278"
    doi_url: "#"
  - year: 2023
    title: "Open Methods in Psychology"
    authors: "Schönbrodt, F."
    journal: "Psychological Methods, 15(2), 112-143"
    doi_url: "#"
---

```{r, echo=FALSE, results='asis'}
#| results: 'asis'
#| echo: false

# Get parameters from this document's YAML metadata
member <- rmarkdown::metadata

# Helper function to safely get parameter values with defaults
get_param <- function(param_name, default = "") {
  if (is.null(member[[param_name]])) {
    return(default)
  } else {
    return(member[[param_name]])
  }
}

# Extract member information
name <- get_param("name", "Member Name")
position <- get_param("position", "")
photo <- get_param("photo", "default-profile.jpg")
email <- get_param("email", "")
personal_website <- get_param("personal_website", NULL)
faculty_website <- get_param("faculty_website", NULL)
social_media <- get_param("social_media", list())
mission_paragraphs <- get_param("mission_statement", list())
research_interests <- get_param("research_interests", list())
publications <- get_param("publications", list())

# Generate HTML content
cat('
<div class="member-profile">
<div class="member-header">
<div class="member-photo">
<img src="', photo, '">
</div>
<div class="member-info">
<h1>', name, '</h1>
<p class="member-position">', position, '</p>
<div class="member-contact">
')

# Email
if (email != "") {
cat('
<div class="contact-item">
<i class="bi bi-envelope"></i>
<a href="mailto:', email, '">', email, '</a>
</div>
')
}

# Personal website
if (!is.null(personal_website)) {
cat('
<div class="contact-item">
<i class="bi bi-globe"></i>
<a href="', personal_website, '" target="_blank">Personal Website</a>
</div>
')
}

# Faculty website
if (!is.null(faculty_website)) {
cat('
<div class="contact-item">
<i class="bi bi-globe"></i>
<a href="', faculty_website, '" target="_blank">Faculty Website</a>
</div>
')
}

# Social media links - using a for loop
if (length(social_media) > 0) {
cat('
<div class="member-socials">
')

# Map platform names to Bootstrap icons
icon_map <- list(
"bluesky" = "bi-bluesky",
"linkedin" = "bi-linkedin",
"github" = "bi-github",
"orcid" = "bi-flower1",
"twitter" = "bi-twitter",
"mastodon" = "bi-mastodon",
"scholar" = "bi-mortarboard",
"researchgate" = "bi-journal-richtext"
)

# Iterate through each social media platform
for (platform in names(social_media)) {
platform_lower <- tolower(platform)
icon <- if (platform_lower %in% names(icon_map)) icon_map[[platform_lower]] else "bi-link"

cat('
<a href="', social_media[[platform]], '" title="', platform, '" target="_blank" class="social-link">
<i class="', icon, '"></i>
</a>
')
}

cat('
</div>
')
}

cat('
</div>
</div>
</div>
')

# Mission statement
if (length(mission_paragraphs) > 0) {
cat('
<div class="member-mission">
<h2>Mission Statement</h2>
')

# Iterate through each paragraph in the mission statement
for (paragraph in mission_paragraphs) {
cat('<p>', paragraph, '</p>')
}

cat('
</div>
')
}

cat('
<div class="member-content">
')

# Research interests - using a for loop
if (length(research_interests) > 0) {
cat('
<h2>Research Interests</h2>
<div class="interests-container">
')

# Iterate through each research interest
for (interest in research_interests) {
cat('<div class="interest-tag">', interest, '</div>')
}

cat('
</div>
')
}

# Publications - using a for loop
if (length(publications) > 0) {
cat('
<h2>Selected Publications</h2>
<div class="publications-list">
')

# Iterate through each publication
for (i in 1:length(publications)) {
pub <- publications[[i]]

# Safely get publication details with defaults
year <- if (is.null(pub$year)) "" else pub$year
title <- if (is.null(pub$title)) "" else pub$title
authors <- if (is.null(pub$authors)) "" else pub$authors
journal <- if (is.null(pub$journal)) "" else pub$journal
doi_url <- pub$doi_url  # This will be NULL if not present

cat('
<div class="publication-item">
<div class="publication-year">', year, '</div>
<div class="publication-content">
<h3>"', title, '"</h3>
<p class="publication-authors">', authors, '</p>
<p class="publication-journal"><em>', journal, '</em></p>
')

if (!is.null(doi_url)) {
cat('
<div class="publication-links">
<a href="', doi_url, '" class="pub-link"><i class="bi bi-box-arrow-up-right"></i> DOI</a>
</div>
')
}

cat('
</div>
</div>
')
}

cat('
</div>
')
}

cat('
</div>
</div>
')
```