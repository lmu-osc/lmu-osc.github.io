<%
const slides = (Array.isArray(items) && items.length) ? items.slice(0, 3) : [];
%>

<div class="carousel-styled-wrapper">
<div id="newsCarousel" class="carousel slide carousel-dark carousel-fade" data-bs-ride="carousel">

<div class="carousel-indicators mt-5">
<% slides.forEach((item, index) => { %>
<button type="button" data-bs-target="#newsCarousel" data-bs-slide-to="<%= index %>" class="<%= index === 0 ? 'active' : '' %>" aria-current="<%= index === 0 ? 'true' : 'false' %>" aria-label="Slide <%= index + 1 %>"></button>
<% }); %>
</div>

<h2>Latest News</h2>

<div class="carousel-inner">
<% slides.forEach((item, index) => { %>
<div class="carousel-item <%= index === 0 ? 'active' : '' %>">
<div class="card border-0 shadow-sm">
<% if (item.image) { %>
<img src="<%= item.image %>" class="card-img-top d-block w-100" alt="<%= item.title || '' %>" style="aspect-ratio: 16/12; object-fit: cover;">
<% } %>
<div class="card-body text-center">
<% if (item.title) { %>
<h5 class="card-title"><%= item.title %></h5>
<% } %>
<% if (item.description) { %>
<p class="card-text" style="display: -webkit-box; -webkit-line-clamp: 3; -webkit-box-orient: vertical; overflow: hidden; min-height: 4.5em; line-height: 1.5em;"><%= item.description %></p>
<% } %>
<% if (item.path) { %>
<a href="<%= item.path %>" class="btn btn-primary mt-auto mb-4" role="button">Go somewhere</a>
<% } %>
</div>
</div>
</div>
<% }); %>
<div class="carousel-indicators mt-3">
<% slides.forEach((item, index) => { %>
<button type="button" data-bs-target="#newsCarousel" data-bs-slide-to="<%= index %>" class="<%= index === 0 ? 'active' : '' %>" aria-current="<%= index === 0 ? 'true' : 'false' %>" aria-label="Slide <%= index + 1 %>"></button>
<% }); %>
</div>
</div>


<button class="carousel-control-prev" type="button" data-bs-target="#newsCarousel" data-bs-slide="prev">
<span class="carousel-control-prev-icon" aria-hidden="true"></span>
<span class="visually-hidden">Previous</span>
</button>
<button class="carousel-control-next" type="button" data-bs-target="#newsCarousel" data-bs-slide="next">
<span class="carousel-control-next-icon" aria-hidden="true"></span>
<span class="visually-hidden">Next</span>
</button>

</div>
</div>

<style>

    /* Card body outline */
      .carousel-styled-wrapper .card-body {
        border: 1px solid black;
        border-radius: 0 0 0.25rem 0.25rem;
      }

</style>