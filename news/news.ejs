<%
const carouselId = 'newsCarousel';
const slides = (Array.isArray(items) && items.length)
? items
: [{ title: 'News item', description: 'More updates coming soon.', image: 'https://via.placeholder.com/1200x500?text=News' }];
%>
<div id="<%= carouselId %>" class="carousel slide carousel-fade" data-bs-ride="carousel">
<div class="carousel-indicators">
<% slides.forEach((item, index) => { %>
<button type="button" data-bs-target="#<%= carouselId %>" data-bs-slide-to="<%= index %>" class="<%= index === 0 ? 'active' : '' %>" aria-current="<%= index === 0 ? 'true' : 'false' %>" aria-label="Slide <%= index + 1 %>"></button>
<% }); %>
</div>

<div class="carousel-inner">
<% slides.forEach((item, index) => { %>
<div class="carousel-item <%= index === 0 ? 'active' : '' %>" style="min-height: 550px;">
<div style="display: flex; justify-content: center; align-items: center; width: 100%; height: 100%;">
<div class="card h-100" style="width: 100%; max-width: 500px;">
<% if (item.image) { %>
<img src="<%= item.image %>" class="card-img-top" alt="<%= item.title || 'News item' %>" style="height: 250px; object-fit: cover;">
<% } else { %>
<div style="height: 250px; background: linear-gradient(135deg, #f5f5f5 0%, #e0e0e0 100%); display: flex; align-items: center; justify-content: center; color: #999; font-size: 0.9rem;">No image</div>
<% } %>
<div class="card-body d-flex flex-column">
<% if (item.tag) { %><span class="badge bg-primary mb-2"><%= item.tag %></span><% } %>
<% if (item.title) { %><h5 class="card-title"><%= item.title %></h5><% } %>
<% if (item.subtitle) { %><p class="card-subtitle mb-2 text-muted"><%= item.subtitle %></p><% } %>
<% if (item.description) { %><p class="card-text"><%= item.description %></p><% } %>
<% if (item.path) { %><a href="<%= item.path %>" class="btn btn-primary mt-auto" role="button">Read more</a><% } %>
</div>
</div>
</div>
</div>
<% }); %>
</div>

<button class="carousel-control-prev" type="button" data-bs-target="#<%= carouselId %>" data-bs-slide="prev">
<span class="carousel-control-prev-icon" aria-hidden="true"></span>
<span class="visually-hidden">Previous</span>
</button>
<button class="carousel-control-next" type="button" data-bs-target="#<%= carouselId %>" data-bs-slide="next">
<span class="carousel-control-next-icon" aria-hidden="true"></span>
<span class="visually-hidden">Next</span>
</button>
</div>
