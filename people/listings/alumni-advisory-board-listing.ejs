<%
// Match alumni advisory board memberships only.
const isAlumniAdvisoryBoard = (membership) =>
  membership &&
  typeof membership === 'object' &&
  membership.type === 'advisory board' &&
  membership.status === 'alumni';

// Keep people who have at least one matching alumni advisory board membership.
const alumnaeItems = (items || []).filter((item) => {
const memberships = Array.isArray(item.memberships) ? item.memberships : [];
return memberships.some(isAlumniAdvisoryBoard);
});
%>

<ul>
<% for (const item of alumnaeItems) { 
const memberships = Array.isArray(item.memberships) ? item.memberships : [];
const alumniAdvisoryMemberships = memberships.filter(isAlumniAdvisoryBoard);
for (const alumniAdvisoryMembership of alumniAdvisoryMemberships) {
const start = alumniAdvisoryMembership.start || '';
const end = alumniAdvisoryMembership.end || '';
let dateRange = '';
if (start) {
dateRange = end ? ' (' + start + ' - ' + end + ')' : ' (' + start + ')';
}
%>
<li>
<a href="<%= item.links[0].url %>">
<%= (item.academic_title ? item.academic_title.trim() : '') %><%= item.academic_title ? ' ' : '' %><%= item.name.trim() %><%= dateRange %>:
<%= alumniAdvisoryMembership.title ? ' ' + alumniAdvisoryMembership.title.trim() : '' %><%= alumniAdvisoryMembership.affiliation ? ', ' + alumniAdvisoryMembership.affiliation.trim() : '' %>
</a>
</li>
<%    }
} %>
</ul>
